import{j as t,W as D,r as h,b as I,Y as q}from"./app-X7rQuqzQ.js";import"./TextInput-D6OJIl0r.js";import{N as y}from"./index-0w41dl_r.js";import{l as L,r as A}from"./leftArrowIcon-BDPjGJVf.js";import{I as N}from"./InputError-CegMXB-H.js";import{F as E}from"./index-BG70WLT1.js";import"./Dropdown-BQqw1rnm.js";import"./transition-CaExHlyc.js";const w="_tagContainer_nzton_1",M="_tagsTitle_nzton_7",W="_tags_nzton_7",H="_tag_nzton_1",_={tagContainer:w,tagsTitle:M,tags:W,tag:H},Q="https://crm.vip-vitalisten.de//build/assets/hashtagIcon-Vdnil8Te.svg",P=({tags:a})=>t.jsxs("div",{className:_.tagContainer,children:[t.jsx("h6",{className:_.tagsTitle,children:"Spezialisierungen"}),t.jsx("div",{className:_.tags,children:a.map((n,c)=>t.jsxs("span",{children:[t.jsxs("p",{className:_.tag,children:[t.jsx("img",{src:Q,alt:""}),n]}),(c+1)%3===0&&t.jsx("br",{})]}))})]}),V=P,F="_container_jzo5t_1",R="_title_jzo5t_9",O="_tabMenu_jzo5t_15",Y="_tabBtn_jzo5t_39",G="_active_jzo5t_51",J="_appointmentDateContainer_jzo5t_55",K="_divider_jzo5t_59",X="_submitBtn_jzo5t_66",Z="_dateTitle_jzo5t_87",U="_dateSelect_jzo5t_93",tt="_scrollBtn_jzo5t_99",et="_inactive_jzo5t_110",nt="_dateSelectContainer_jzo5t_114",ot="_dateBoxContainer_jzo5t_118",st="_dateBox_jzo5t_118",at="_selectedDateBox_jzo5t_148",it="_dateBoxTitle_jzo5t_154",ct="_dateBoxDayInfo_jzo5t_162",rt="_timeSelectContainer_jzo5t_172",lt="_timeSelect_jzo5t_172",dt="_timeBox_jzo5t_183",mt="_timeBoxSelected_jzo5t_201",_t="_timeBoxDisabled_jzo5t_208",e={container:F,title:R,tabMenu:O,tabBtn:Y,active:G,appointmentDateContainer:J,divider:K,submitBtn:X,dateTitle:Z,dateSelect:U,scrollBtn:tt,inactive:et,dateSelectContainer:nt,dateBoxContainer:ot,dateBox:st,selectedDateBox:at,dateBoxTitle:it,dateBoxDayInfo:ct,timeSelectContainer:rt,timeSelect:lt,timeBox:dt,timeBoxSelected:mt,timeBoxDisabled:_t},xt="_container_gam0m_1",ut="_title_gam0m_9",Bt="_tabMenu_gam0m_15",gt="_tabBtn_gam0m_39",ht="_active_gam0m_51",jt="_appointmentDateContainer_gam0m_55",vt="_divider_gam0m_59",pt="_submitBtnQuick_gam0m_66",ft="_quickContainer_gam0m_96",Ct="_dateTitle_gam0m_103",St="_dateSelect_gam0m_109",bt="_scrollBtn_gam0m_115",$t="_inactive_gam0m_126",Nt="_dateSelectContainer_gam0m_130",Dt="_dateBoxContainer_gam0m_134",zt="_dateBox_gam0m_134",Tt="_selectedDateBox_gam0m_153",kt="_dateBoxTitle_gam0m_156",It="_dateBoxDayInfo_gam0m_163",qt="_timeSelectContainer_gam0m_173",yt="_timeSelect_gam0m_173",Lt="_timeBox_gam0m_184",At="_timeBoxSelected_gam0m_193",Et="_timeBoxDisabled_gam0m_196",x={container:xt,title:ut,tabMenu:Bt,tabBtn:gt,active:ht,appointmentDateContainer:jt,divider:vt,submitBtnQuick:pt,quickContainer:ft,dateTitle:Ct,dateSelect:St,scrollBtn:bt,inactive:$t,dateSelectContainer:Nt,dateBoxContainer:Dt,dateBox:zt,selectedDateBox:Tt,dateBoxTitle:kt,dateBoxDayInfo:It,timeSelectContainer:qt,timeSelect:yt,timeBox:Lt,timeBoxSelected:At,timeBoxDisabled:Et},wt=({employeeUID:a,quickDate:n,quickHour:c})=>{const{data:u,setData:j,post:B,get:r,processing:v,errors:z,reset:l}=D({employeeUID:a}),g=()=>{B(route("reservation.quick"),u)};return t.jsxs("div",{className:x.quickContainer,children:[t.jsx("h6",{className:x.title,children:"Nächstmöglicher Termin Request"}),t.jsx("form",{className:x.form,onSubmit:p=>{p.preventDefault(),g()},children:t.jsx("button",{type:"submit",className:x.submitBtnQuick,children:"Nächstmöglicher Termin"})}),t.jsxs("center",{children:[n," ",c]})]})},Mt=({dates:a,employeeUID:n,quickDate:c,quickHour:u})=>{const[j,B]=h.useState([]),[r,v]=h.useState("online"),{data:z,setData:l,post:g,get:p,processing:Kt,errors:f,reset:Xt}=D({date:a[0].date,hour:null,online:1,employeeUID:n}),C=o=>{I.get("/reservation/get_hours?date="+o+"&employeeUID="+n,{date:o,employeeUID:n}).then(s=>{l("date",o),B(s.data.hours),document.querySelectorAll(`.${e.dateBox}`).forEach($=>{$.classList.remove(e.selectedDateBox)}),document.querySelector(`.${e.dateBox}[data-date="${o}"]`).classList.add(e.selectedDateBox)})},T=o=>{const s=o.target.getAttribute("data-hour");l("hour",s),document.querySelectorAll(`.${e.timeBox}`).forEach(m=>{m.classList.remove(e.timeBoxSelected)}),o.target.classList.add(e.timeBoxSelected)},S=o=>{v(o),l("online",o==="online"?1:0)};h.useEffect(()=>{C(a[0].date)},[]);const k=()=>{g(route("reservation.check"))},b=o=>{const s=document.querySelector(`.${e.dateBoxContainer}`),d=200,m=o==="left"?-d:d;s.scrollBy({top:0,left:m,behavior:"smooth"}),document.querySelector(`.${e.scrollBtn}`).classList.remove(e.inactive),s.addEventListener("scroll",()=>{s.scrollLeft===0&&document.querySelector(`.${e.scrollBtn}.left`).classList.add(e.inactive),s.scrollLeft===s.scrollWidth-s.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.add(e.inactive),s.scrollLeft!==s.scrollWidth-s.clientWidth&&document.querySelector(`.${e.scrollBtn}.right`).classList.remove(e.inactive)})};return t.jsxs("div",{className:e.container,children:[t.jsx(wt,{employeeUID:n,quickDate:c,quickHour:u}),t.jsxs("div",{className:e.tabMenu,"aria-valuenow":r==="online"?"0":"1",children:[t.jsx("button",{className:[e.tabBtn,r=="online"&&e.active].join(" "),onClick:()=>S("online"),children:"Videosprechstunde"}),t.jsx("button",{className:[e.tabBtn,r=="onsite"&&e.active].join(" "),onClick:()=>S("onsite"),children:"Vor-Ort-Termin"})]}),t.jsxs("div",{className:e.appointmentDateContainer,children:[t.jsxs("div",{className:e.dateSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Datum wählen"}),t.jsxs("div",{className:e.dateSelect,children:[t.jsx("button",{className:[e.scrollBtn,e.inactive].join(" "),onClick:()=>b("left"),children:t.jsx("img",{src:L,alt:""})}),t.jsx("div",{className:e.dateBoxContainer,children:a.map((o,s)=>t.jsxs("div",{className:e.dateBox,onClick:()=>C(o.date),"data-date":o.date,children:[t.jsx("h6",{className:e.dateBoxTitle,children:o.day}),t.jsx("p",{className:e.dateBoxDayInfo,children:o.weekday})]},s))}),t.jsx("button",{className:e.scrollBtn,onClick:()=>b("right"),children:t.jsx("img",{src:A,alt:""})})]}),t.jsx(N,{message:f.date})]}),t.jsx("div",{className:e.divider}),t.jsxs("div",{className:e.timeSelectContainer,children:[t.jsx("h5",{className:e.dateTitle,children:"Verfügbare Stunden"}),t.jsx("div",{className:`${e.timeSelect} grid md:grid-cols-3 grid-cols-2 gap-2  `,children:j.map((o,s)=>t.jsx("div",{className:[e.timeBox].join(" "),onClick:()=>T(event),"data-hour":o,children:o},s))}),t.jsx(N,{message:f.hour})]}),t.jsx("button",{className:e.submitBtn,onClick:()=>k(),children:"Termin vereinbaren"})]})]})},Wt=Mt,Ht="_container_auc0e_1",Qt="_content_auc0e_5",Pt="_left_auc0e_11",Vt="_imgContainer_auc0e_16",Ft="_profileImg_auc0e_20",Rt="_doctorInfoContainer_auc0e_25",Ot="_right_auc0e_29",Yt="_doctorName_auc0e_33",Gt="_doctorProfession_auc0e_39",i={container:Ht,content:Qt,left:Pt,imgContainer:Vt,profileImg:Ft,doctorInfoContainer:Rt,right:Ot,doctorName:Yt,doctorProfession:Gt},Jt="https://crm.vip-vitalisten.de//build/assets/profile-C1Etldha.png";function ie({auth:a,employee:n,dates:c}){return console.log(n),t.jsxs(t.Fragment,{children:[t.jsx(y,{user:a.user}),t.jsx(q,{title:"Welcome"}),t.jsxs("div",{className:`${i.container} `,children:[t.jsxs("div",{className:`${i.content} flex flex-col md:flex-row `,children:[t.jsx("div",{className:`${i.left}  `,children:t.jsx("div",{className:`${i.imgContainer} max-w-[800px] `,children:t.jsx("img",{src:n.profile_image?"/images/"+n.profile_image:Jt,alt:"",className:i.profileImg})})}),t.jsxs("div",{className:`${i.right}  sm:mt-4 lg:mt-0`,children:[t.jsxs("div",{children:[t.jsxs("h5",{className:`${i.doctorName}`,children:[n.username," ",n.name]}),n.profession?t.jsx("p",{className:i.doctorProfession,children:n.profession}):""]}),t.jsxs("div",{children:[t.jsx(V,{tags:n.specializations?n.specializations:[]}),t.jsx(Wt,{dates:c,employeeUID:n.uid,quickDate:n.quick_date,quickHour:n.quick_hour})]})]})]}),t.jsx(E,{})]})]})}export{ie as default};
