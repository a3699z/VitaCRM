import{j as e,a as w,r as h,W as v}from"./app-DmyuV0Et.js";import{N as P}from"./index-D8v3cZC5.js";import{p as I}from"./profile-BEPZ18IS.js";import{v as $}from"./videoIcon-B38vVi7b.js";import{c as k}from"./calendarIcon-De-YRl3e.js";import{F as u}from"./index-Cspz5lHy.js";import{u as B}from"./index-BcZ1I8NZ.js";import"./ResponsiveNavLink-C6aUrYY5.js";import"./transition-CQfsSB63.js";const T="_container_np1aw_1",S="_content_np1aw_11",G="_profilePhotoContainer_np1aw_27",A="_profilePhoto_np1aw_27",z="_infoContainer_np1aw_49",F="_name_np1aw_59",q="_email_np1aw_75",d={container:T,content:S,profilePhotoContainer:G,profilePhoto:A,infoContainer:z,name:F,email:q},D=({auth:n})=>{const s="images/"+n.user.profile_image;return e.jsx("div",{className:d.container,children:e.jsxs("div",{className:d.content,children:[e.jsx("div",{className:d.profilePhotoContainer,children:e.jsx("img",{src:s,className:d.profilePhoto,alt:""})}),e.jsxs("div",{className:d.infoContainer,children:[e.jsx("h6",{className:d.name,children:n.user.username}),e.jsx("p",{className:d.email,children:n.user.email})]})]})})},E="_container_5ogd9_1",M="_menu_5ogd9_21",V="_menuItem_5ogd9_31",R="_active_5ogd9_61",x={container:E,menu:M,menuItem:V,active:R},U=({tabs:n,activeTab:s,changeTab:c})=>e.jsx("div",{className:x.container,children:e.jsx("div",{className:x.menu,children:n.map(t=>e.jsx("button",{onClick:()=>c(t.id),to:t.path,className:[x.menuItem,t.id==s?x.active:null].join(" "),children:t.label},t.id))})}),L="_container_fh1h0_1",H="_contentContainer_fh1h0_11",O="_content_fh1h0_11",g={container:L,contentContainer:H,content:O},W="_container_c0lzu_1",J="_title_c0lzu_15",K="_visitContainer_c0lzu_33",Q="_showMoreBtn_c0lzu_55",N={container:W,title:J,visitContainer:K,showMoreBtn:Q},X="_container_23nnc_1",Y="_profilePhoto_23nnc_17",Z="_appointmentInfo_23nnc_25",ee="_doctorInfo_23nnc_35",ne="_info_23nnc_59",te="_appointmentType_23nnc_71",se="_doctorName_23nnc_95",oe="_profession_23nnc_109",ae="_dateInfo_23nnc_123",ie="_date_23nnc_123",re="_time_23nnc_147",ce="_btnGroup_23nnc_161",le="_btn_23nnc_161",i={container:X,profilePhoto:Y,appointmentInfo:Z,doctorInfo:ee,info:ne,appointmentType:te,doctorName:se,profession:oe,dateInfo:ae,date:ie,time:re,btnGroup:ce,btn:le},me=({visitType:n,doctorName:s,profession:c,date:t,time:_,visitId:f,profile_image:r=""})=>e.jsxs("div",{className:i.container,children:[e.jsxs("div",{className:i.appointmentInfo,children:[e.jsxs("div",{className:i.doctorInfo,children:[e.jsx("img",{src:r?"/images/"+r:I,alt:"",className:i.profilePhoto}),e.jsxs("div",{className:i.info,children:[e.jsxs("h4",{className:i.appointmentType,children:[e.jsx("img",{src:$,alt:""}),n]}),e.jsx("h5",{className:i.doctorName,children:s}),e.jsx("h6",{className:i.profession,children:c})]})]}),e.jsxs("div",{className:i.dateInfo,children:[e.jsx("div",{className:i.date,children:t}),e.jsx("div",{className:i.time,children:_})]})]}),e.jsx("div",{className:i.btnGroup,children:e.jsxs(w,{className:i.btn,href:route("visit",f),children:[e.jsx("img",{src:k,alt:""}),"Termindetails"]})})]}),de=({reservations:n})=>{console.log(Array.isArray(n));const[s,c]=h.useState(n);return e.jsxs("div",{className:N.container,children:[e.jsx("h5",{className:N.title,children:"Abgeschlossene Besuche"}),e.jsx("div",{className:N.visitContainer,children:s.map(t=>e.jsx(me,{visitType:t.is_online?"Videosprechstunde Termin":"Vor-Ort-Termin",doctorName:t.employee.name,profession:"nurse",date:t.date,time:t.hour,visitId:t.key,profile_image:t.employee.profile_image?t.employee.profile_image:""},t.key))})]})},_e="_container_1lk0b_1",pe="_titleContainer_1lk0b_7",ue="_title_1lk0b_7",fe="_info_1lk0b_23",he="_formContainer_1lk0b_33",xe="_formTitle_1lk0b_37",je="_btnGroup_1lk0b_45",ge="_cancelBtn_1lk0b_51",Ne="_saveBtn_1lk0b_67",ve="_uploadBtn_1lk0b_83",Ce="_imageContainer_1lk0b_100",be="_image_1lk0b_100",m={container:_e,titleContainer:pe,title:ue,info:fe,formContainer:he,formTitle:xe,btnGroup:je,cancelBtn:ge,saveBtn:Ne,uploadBtn:ve,imageContainer:Ce,image:be},ye=({auth:n})=>{const[s,c]=h.useState(null),[t,_]=n.user.profile_image?h.useState("/images/"+n.user.profile_image):h.useState("https://via.placeholder.com/150"),{data:f,setData:r,errors:j,post:a,reset:Fe,processing:qe,recentlySuccessful:De}=v({profileImage:null,userName:n.user.username?n.user.username:"",name:n.user.name?n.user.name:"",email:n.user.email?n.user.email:""}),C=o=>{const l=o.target.files[0];l.type.match(/image\/(png|jpg|jpeg)/)?(c(l),r("profileImage",l),b(l),console.log(l)):console.error("Unsupported file type")},b=o=>{const l=new FileReader;console.log(l),l.addEventListener("load",()=>{_(l.result)}),l.readAsDataURL(o)},y=o=>{o.preventDefault(),a(route("profile.update"))};return e.jsxs("div",{className:m.container,children:[e.jsxs("div",{className:m.titleContainer,children:[e.jsx("h4",{className:m.title,children:"Persönliche Daten"}),e.jsx("p",{className:m.info,children:"Hier können Sie Ihre persönlichen Daten aktualisieren."})]}),e.jsxs("div",{className:m.formContainer,children:[e.jsxs("form",{children:[e.jsxs("div",{className:m.imageContainer,children:[e.jsx("img",{src:t,alt:"profile",className:m.image}),e.jsx("div",{className:m.uploadBtn,onClick:()=>{document.getElementById("image").click()},role:"div",children:"Bild hochladen"}),e.jsx("input",{type:"file",id:"image",style:{display:"none"},onChange:o=>{C(o)}})]}),e.jsx(u,{id:"userName",name:"userName",label:"Benutzername",placeholder:"ritaaagreiner",onChange:o=>{r("userName",o.target.value)},type:"text",value:n.user.username}),e.jsx(u,{id:"name",name:"name",label:"Name",placeholder:"Rita Greiner",onChange:o=>{r("name",o.target.value)},type:"text",value:n.user.name}),e.jsx(u,{id:"email",name:"email",label:"E-mail",placeholder:"ritagreiner@gmail.com",onChange:o=>{r("email",o.target.value)},type:"mail",value:n.user.email})]}),e.jsx("div",{className:m.btnGroup,children:e.jsx("button",{className:m.saveBtn,onClick:o=>{y(o)},children:"Speichern"})})]})]})},we="_container_eps51_1",Pe={container:we},Ie="_container_mxq66_1",$e="_titleContainer_mxq66_11",ke="_title_mxq66_11",Be="_info_mxq66_43",Te="_formContainer_mxq66_61",Se="_formTitle_mxq66_67",Ge="_submitBtn_mxq66_83",p={container:Ie,titleContainer:$e,title:ke,info:Be,formContainer:Te,formTitle:Se,submitBtn:Ge},Ae=()=>{const{data:n,setData:s,errors:c,put:t,reset:_,processing:f,recentlySuccessful:r}=v({current_password:"",password:"",password_confirmation:""}),j=a=>{a.preventDefault(),t(route("password.update"))};return e.jsxs("div",{className:p.container,children:[e.jsxs("div",{className:p.titleContainer,children:[e.jsx("h4",{className:p.title,children:"Passwort Andern"}),e.jsx("p",{className:p.info,children:"Sie können Ihr Passwort in diesem Bereich aktualisieren und Ihre Mitgliedschaft fortsetzen."})]}),e.jsxs("div",{className:p.formContainer,children:[e.jsxs("form",{onSubmit:a=>j(a),children:[e.jsx(u,{id:"password",name:"password",label:"Passwort",placeholder:"Altes Passwort",onChange:a=>{s("current_password",a.target.value)},type:"text"}),e.jsx(u,{id:"name",name:"name",label:"Neues Passwort",placeholder:"Neues Passwort",onChange:a=>{s("password",a.target.value)},type:"text"}),e.jsx(u,{id:"email",name:"email",label:"Neues Passwort (Nochmals)",placeholder:"Neues Passwort (Nochmals)",onChange:a=>{s("password_confirmation",a.target.value)},type:"mail"})]}),e.jsx("button",{className:p.submitBtn,type:"submit",onClick:a=>j(a),children:"Passwort zurücksetzen"})]})]})},ze=({auth:n})=>e.jsxs("div",{className:Pe.container,children:[e.jsx(ye,{auth:n}),e.jsx(Ae,{})]}),Je=({auth:n,reservations:s})=>{const c=[{id:"profile",label:"Meine Termine",component:e.jsx(de,{reservations:s})},{id:"accountSettings",label:"Account Einstellungen",component:e.jsx(ze,{auth:n})}];console.log(s),B();const[t,_]=h.useState("profile"),f=r=>{_(r)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{user:n.user}),e.jsxs("div",{className:g.container,children:[e.jsx(D,{auth:n}),e.jsxs("div",{className:g.contentContainer,children:[e.jsx(U,{tabs:c,activeTab:t,changeTab:f}),e.jsx("div",{className:g.content,children:c.find(r=>r.id===t).component})]})]})]})};export{Je as default};
