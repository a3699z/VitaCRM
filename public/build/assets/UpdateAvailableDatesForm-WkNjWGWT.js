import{j as e,q as N,W as $}from"./app-DHnVHQL0.js";import{I as x}from"./InputError-BxK_OrNt.js";import{I as g}from"./InputLabel-rl_EsTa8.js";import{P as C}from"./PrimaryButton-DzK7mvCn.js";function H({day:h,index:u,onChange:c}){return e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:`days.${u}.date`,type:"date",placeholder:"Date",value:h.date,onChange:n=>c(u,n.target.value)})}function k({hour:h,index:u,dateIndex:c,onChange:n}){return e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:`hours.${c}${u}.hour`,type:"time",placeholder:"Hour",value:h,onChange:a=>n(u,a.target.value)})}function _({mustVerifyEmail:h,status:u,className:c=""}){const n=N().props.auth.user;console.log(n.available_dates);const{data:a,setData:l,patch:y,errors:b,processing:j,recentlySuccessful:A}=$({dates:n.available_dates?n.available_dates:[{date:"",hours:[]}]}),v=m=>{m.preventDefault(),y(route("dates.update"))};return e.jsxs("section",{className:c,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Available Dates"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your available dates."})]}),e.jsxs("form",{onSubmit:v,className:"mt-6 space-y-6",children:[a.dates.map((m,s)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:`dates.${s}.date`,value:"Date"}),e.jsx(H,{day:m,index:s,onChange:(d,t)=>{const o=a.dates.map((r,i)=>s===i?{...r,date:t}:r);l("dates",o)}}),e.jsx(x,{className:"mt-2",message:b[`dates.${s}.date`]})]}),m.hours.map((d,t)=>e.jsxs("div",{children:[e.jsx(g,{htmlFor:`dates.${s}.hours.${t}.hour`,value:"Hour"}),e.jsx(k,{hour:d,index:t,dateIndex:s,onChange:(o,r)=>{const i=a.dates.map((p,f)=>s===f?{...p,hours:p.hours.map((w,D)=>t===D?r:w)}:p);l("dates",i)}}),e.jsx(x,{className:"mt-2",message:b[`dates.${s}.hours.${t}.hour`]}),e.jsx("button",{type:"button",onClick:()=>{const o=a.dates.map((r,i)=>s===i?{...r,hours:r.hours.filter((p,f)=>f!==t)}:r);l("dates",o)},className:"mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Delete Hour"})]},t)),e.jsx("button",{type:"button",onClick:()=>{const d=a.dates.map((t,o)=>s===o?{...t,hours:[...t.hours,{hour:""}]}:t);l("dates",d)},className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Hour"}),e.jsx("button",{type:"button",onClick:()=>{const d=a.dates.filter((t,o)=>s!==o);l("dates",d)},className:"mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Delete Day"})]},s)),e.jsx("button",{type:"button",onClick:()=>{l("dates",[...a.dates,{date:"",hours:[{hour:""}]}])},className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Day"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{className:"ml-4",processing:j,children:"Update"})})]})]})}export{_ as default};
