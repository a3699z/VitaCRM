import{j as e,q as N,W as $}from"./app-C3_TzhM4.js";import{I as y}from"./InputError-QplGPOt-.js";import{I as g}from"./InputLabel-B6zahXXt.js";import{P as C}from"./PrimaryButton-Ck8UYHJn.js";function H({day:h,index:n,onChange:c}){return e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:`days.${n}.date`,type:"date",placeholder:"Date",value:h.date,onChange:u=>c(n,u.target.value)})}function k({hour:h,index:n,dateIndex:c,onChange:u}){return e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:`hours.${c}${n}.hour`,type:"time",placeholder:"Hour",value:h.hour,onChange:a=>u(n,a.target.value)})}function U({mustVerifyEmail:h,status:n,className:c=""}){const u=N().props.auth.user,{data:a,setData:l,patch:j,errors:b,processing:v,recentlySuccessful:A}=$({dates:u.available_dates?JSON.parse(u.available_dates):[{date:"",hours:[{hour:""}]}]}),w=p=>{p.preventDefault(),j(route("dates.update"))};return e.jsxs("section",{className:c,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Available Dates"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your available dates."})]}),e.jsxs("form",{onSubmit:w,className:"mt-6 space-y-6",children:[a.dates.map((p,s)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:`dates.${s}.date`,value:"Date"}),e.jsx(H,{day:p,index:s,onChange:(d,t)=>{const o=a.dates.map((r,i)=>s===i?{...r,date:t}:r);l("dates",o)}}),e.jsx(y,{className:"mt-2",message:b[`dates.${s}.date`]})]}),p.hours.map((d,t)=>e.jsxs("div",{children:[e.jsx(g,{htmlFor:`dates.${s}.hours.${t}.hour`,value:"Hour"}),e.jsx(k,{hour:d,index:t,dateIndex:s,onChange:(o,r)=>{const i=a.dates.map((m,f)=>s===f?{...m,hours:m.hours.map((x,D)=>t===D?{...x,hour:r}:x)}:m);l("dates",i)}}),e.jsx(y,{className:"mt-2",message:b[`dates.${s}.hours.${t}.hour`]}),e.jsx("button",{type:"button",onClick:()=>{const o=a.dates.map((r,i)=>s===i?{...r,hours:r.hours.filter((m,f)=>f!==t)}:r);l("dates",o)},className:"mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Delete Hour"})]},t)),e.jsx("button",{type:"button",onClick:()=>{const d=a.dates.map((t,o)=>s===o?{...t,hours:[...t.hours,{hour:""}]}:t);l("dates",d)},className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Hour"}),e.jsx("button",{type:"button",onClick:()=>{const d=a.dates.filter((t,o)=>s!==o);l("dates",d)},className:"mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Delete Day"})]},s)),e.jsx("button",{type:"button",onClick:()=>{l("dates",[...a.dates,{date:"",hours:[{hour:""}]}])},className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add Day"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{className:"ml-4",processing:v,children:"Update"})})]})]})}export{U as default};
