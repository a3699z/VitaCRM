import{r as d,W as S,j as e,b as N}from"./app-DAMKVp92.js";import{p as C}from"./profile-BEPZ18IS.js";import{N as b}from"./index-DtMfFnM-.js";import{l as D,r as y}from"./leftArrowIcon-D6uN1iI7.js";import{I as h}from"./InputError-DxeobrIb.js";import"./ResponsiveNavLink-BBVZKtG8.js";import"./transition-BX80a94a.js";const k="_container_1s92x_1",I="_title_1s92x_8",T="_visitContainer_1s92x_16",$="_row_1s92x_25",L="_profilePhoto_1s92x_32",q="_doctorInfo_1s92x_40",w="_info_1s92x_44",E="_doctorName_1s92x_50",A="_profession_1s92x_57",P="_groupContainer_1s92x_66",W="_group_1s92x_66",G="_groupTitle_1s92x_76",M="_groupDesc_1s92x_83",H="_iconContainer_1s92x_92",Q="_link_1s92x_101",U="_linkIcon_1s92x_112",F="_btn_1s92x_117",R="_btnGroup_1s92x_130",n={container:k,title:I,visitContainer:T,row:$,profilePhoto:L,doctorInfo:q,info:w,doctorName:E,profession:A,groupContainer:P,group:W,groupTitle:G,groupDesc:M,iconContainer:H,link:Q,linkIcon:U,btn:F,btnGroup:R},V="_container_lum5c_1",z="_title_lum5c_9",J="_tabMenu_lum5c_15",K="_tabBtn_lum5c_39",O="_active_lum5c_51",X="_appointmentDateContainer_lum5c_55",Y="_divider_lum5c_59",Z="_submitBtn_lum5c_66",ee="_dateTitle_lum5c_78",te="_dateSelect_lum5c_84",oe="_scrollBtn_lum5c_90",se="_inactive_lum5c_101",ne="_dateSelectContainer_lum5c_105",ce="_dateBoxContainer_lum5c_109",ie="_dateBox_lum5c_109",ae="_selectedDateBox_lum5c_128",le="_dateBoxTitle_lum5c_131",re="_dateBoxDayInfo_lum5c_138",de="_timeSelectContainer_lum5c_148",me="_timeSelect_lum5c_148",_e="_timeBox_lum5c_159",ue="_timeBoxSelected_lum5c_168",xe="_timeBoxDisabled_lum5c_171",t={container:V,title:z,tabMenu:J,tabBtn:K,active:O,appointmentDateContainer:X,divider:Y,submitBtn:Z,dateTitle:ee,dateSelect:te,scrollBtn:oe,inactive:se,dateSelectContainer:ne,dateBoxContainer:ce,dateBox:ie,selectedDateBox:ae,dateBoxTitle:le,dateBoxDayInfo:re,timeSelectContainer:de,timeSelect:me,timeBox:_e,timeBoxSelected:ue,timeBoxDisabled:xe},Be=({dates:c,reservation:i,auth:a})=>{const[p,f]=d.useState([]);d.useState("online");const{data:he,setData:m,post:v,get:pe,processing:fe,errors:_,reset:ve}=S({date:c[0].date,hour:null,online:1,quick_key:i.key}),j=()=>{v(route("quick.accept"))},u=o=>{N.get("/reservation/get_hours?date="+o+"&employeeUID="+a.user.uid,{date:o,employeeUID:a.user.uid}).then(s=>{m("date",o),f(s.data.hours),document.querySelectorAll(`.${t.dateBox}`).forEach(B=>{B.classList.remove(t.selectedDateBox)}),document.querySelector(`.${t.dateBox}[data-date="${o}"]`).classList.add(t.selectedDateBox)})},g=o=>{const s=o.target.getAttribute("data-hour");m("hour",s),document.querySelectorAll(`.${t.timeBox}`).forEach(r=>{r.classList.remove(t.timeBoxSelected)}),o.target.classList.add(t.timeBoxSelected)};d.useEffect(()=>{u(c[0].date)},[]);const x=o=>{const s=document.querySelector(`.${t.dateBoxContainer}`),l=200,r=o==="left"?-l:l;s.scrollBy({top:0,left:r,behavior:"smooth"}),document.querySelector(`.${t.scrollBtn}`).classList.remove(t.inactive),s.addEventListener("scroll",()=>{s.scrollLeft===0&&document.querySelector(`.${t.scrollBtn}.left`).classList.add(t.inactive),s.scrollLeft===s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.add(t.inactive),s.scrollLeft!==s.scrollWidth-s.clientWidth&&document.querySelector(`.${t.scrollBtn}.right`).classList.remove(t.inactive)})};return e.jsxs("div",{className:t.container,children:[e.jsx("h6",{className:t.title,children:"Speed Termin"}),e.jsxs("div",{className:t.appointmentDateContainer,children:[e.jsxs("div",{className:t.dateSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Datum wählen"}),e.jsxs("div",{className:t.dateSelect,children:[e.jsx("button",{className:[t.scrollBtn,t.inactive].join(" "),onClick:()=>x("left"),children:e.jsx("img",{src:D,alt:""})}),e.jsx("div",{className:t.dateBoxContainer,children:c.map((o,s)=>e.jsxs("div",{className:t.dateBox,onClick:()=>u(o.date),"data-date":o.date,children:[e.jsx("h6",{className:t.dateBoxTitle,children:o.day}),e.jsx("p",{className:t.dateBoxDayInfo,children:o.weekday})]},s))}),e.jsx("button",{className:t.scrollBtn,onClick:()=>x("right"),children:e.jsx("img",{src:y,alt:""})})]}),e.jsx(h,{message:_.date})]}),e.jsx("div",{className:t.divider}),e.jsxs("div",{className:t.timeSelectContainer,children:[e.jsx("h5",{className:t.dateTitle,children:"Verfügbare Stunden"}),e.jsx("div",{className:t.timeSelect,children:p.map((o,s)=>e.jsx("div",{className:[t.timeBox].join(" "),onClick:()=>g(event),"data-hour":o,children:o},s))}),e.jsx(h,{message:_.hour})]}),e.jsx("button",{className:t.submitBtn,onClick:()=>j(),children:"Termin vereinbaren"})]})]})},ye=({auth:c,reservation:i,dates:a})=>e.jsxs(e.Fragment,{children:[e.jsx(b,{user:c.user}),e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs("div",{className:n.container,children:[e.jsx("h4",{className:n.title,children:"Termindetails"}),e.jsxs("div",{className:n.visitContainer,children:[e.jsx("div",{className:n.row,children:e.jsxs("div",{className:n.doctorInfo,children:[e.jsx("img",{src:i.patient.profile_image?"/images/"+i.patient.profile_image:C,alt:"",className:n.profilePhoto}),e.jsx("div",{className:n.info,children:e.jsxs("h5",{className:n.doctorName,children:["Patient,",i.patient.name]})})]})}),e.jsx("div",{className:n.row,children:e.jsx(Be,{dates:a,reservation:i,auth:c})})]})]})})]});export{ye as default};
